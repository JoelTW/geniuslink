!function(e){function t(e,t,i){return 4===arguments.length?r.apply(this,arguments):void n(e,{declarative:!0,deps:t,declare:i})}function r(e,t,r,i){n(e,{declarative:!1,deps:t,executingRequire:r,execute:i})}function n(e,t){t.name=e,e in d||(d[e]=t),t.normalizedDeps=t.deps}function i(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==h.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var r=0,n=e.normalizedDeps.length;n>r;r++){var o=e.normalizedDeps[r],s=d[o];if(s&&!s.evaluated){var u=e.groupIndex+(s.declarative!=e.declarative);if(void 0===s.groupIndex||s.groupIndex<u){if(void 0!==s.groupIndex&&(t[s.groupIndex].splice(h.call(t[s.groupIndex],s),1),0==t[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=u}i(s,t)}}}}function o(e){var t=d[e];t.groupIndex=0;var r=[];i(t,r);for(var n=!!t.declarative==r.length%2,o=r.length-1;o>=0;o--){for(var s=r[o],a=0;a<s.length;a++){var f=s[a];n?u(f):c(f)}n=!n}}function s(e){return y[e]||(y[e]={name:e,dependencies:[],exports:{},importers:[]})}function u(t){if(!t.module){var r=t.module=s(t.name),n=t.module.exports,i=t.declare.call(e,function(e,t){if(r.locked=!0,"object"==typeof e)for(var i in e)n[i]=e[i];else n[e]=t;for(var o=0,s=r.importers.length;s>o;o++){var u=r.importers[o];if(!u.locked)for(var a=0;a<u.dependencies.length;++a)u.dependencies[a]===r&&u.setters[a](n)}return r.locked=!1,t},t.name);r.setters=i.setters,r.execute=i.execute;for(var o=0,a=t.normalizedDeps.length;a>o;o++){var c,f=t.normalizedDeps[o],l=d[f],h=y[f];h?c=h.exports:l&&!l.declarative?c=l.esModule:l?(u(l),h=l.module,c=h.exports):c=p(f),h&&h.importers?(h.importers.push(r),r.dependencies.push(h)):r.dependencies.push(null),r.setters[o]&&r.setters[o](c)}}}function a(e){var t,r=d[e];if(r)r.declarative?l(e,[]):r.evaluated||c(r),t=r.module.exports;else if(t=p(e),!t)throw new Error("Unable to load dependency "+e+".");return(!r||r.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var r={},n=t.module={exports:r,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var s=t.normalizedDeps[i],u=d[s];u&&c(u)}t.evaluated=!0;var l=t.execute.call(e,function(e){for(var r=0,n=t.deps.length;n>r;r++)if(t.deps[r]==e)return a(t.normalizedDeps[r]);throw new TypeError("Module "+e+" not declared as a dependency.")},r,n);l&&(n.exports=l),r=n.exports,r&&r.__esModule?t.esModule=r:t.esModule=f(r)}}function f(t){if(t===e)return t;var r={};if("object"==typeof t||"function"==typeof t)if(g){var n;for(var i in t)(n=Object.getOwnPropertyDescriptor(t,i))&&m(r,i,n)}else{var o=t&&t.hasOwnProperty;for(var i in t)(!o||t.hasOwnProperty(i))&&(r[i]=t[i])}return r["default"]=t,m(r,"__useDefault",{value:!0}),r}function l(t,r){var n=d[t];if(n&&!n.evaluated&&n.declarative){r.push(t);for(var i=0,o=n.normalizedDeps.length;o>i;i++){var s=n.normalizedDeps[i];-1==h.call(r,s)&&(d[s]?l(s,r):p(s))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function p(e){if(w[e])return w[e];if("@node/"==e.substr(0,6))return x(e.substr(6));var t=d[e];if(!t)throw"Module "+e+" not present.";return o(e),l(e,[]),d[e]=void 0,t.declarative&&m(t.module.exports,"__esModule",{value:!0}),w[e]=t.declarative?t.module.exports:t.esModule}var d={},h=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(v){g=!1}var m;!function(){try{Object.defineProperty({},"a",{})&&(m=Object.defineProperty)}catch(e){m=function(e,t,r){try{e[t]=r.value||r.get.call(e)}catch(n){}}}}();var y={},x="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,w={"@empty":{}};return function(e,n,i){return function(o){o(function(o){for(var s={_nodeRequire:x,register:t,registerDynamic:r,get:p,set:function(e,t){w[e]=t},newModule:function(e){return e}},u=0;u<n.length;u++)(function(e,t){t&&t.__esModule?w[e]=t:w[e]=f(t)})(n[u],arguments[u]);i(s);var a=p(e[0]);if(e.length>1)for(var u=1;u<e.length;u++)p(e[u]);return a.__useDefault?a["default"]:a})}}}("undefined"!=typeof self?self:global)(["1","1"],[],function(e){e.register("2",["3"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.modelHelper}],execute:function(){r={parse:function(e){var r=t.fromJson(e),n={count:t.getInt(r["@count"]),date:t.getDate(r["@date"]),seatedCount:t.getInt(r["@seated.count"]),unseatedCount:t.getInt(r["@unseated.count"])};if("@score"in r&&""!==r["@score"]&&(n.score=t.getInt(r["@score"])),"@seated.score"in r&&""!==r["@seated.score"]&&(n.seatedScore=t.getInt(r["@seated.score"])),"@unseated.score"in r&&""!==r["@unseated.score"]&&(n.unseatedScore=t.getInt(r["@unseated.score"])),"@score.trend"in r&&(n.scoreTrend=t.getInt(r["@score.trend"])),"@seated.score.trend"in r&&(n.seatedScoreTrend=t.getInt(r["@seated.score.trend"])),"@unseated.score.trend"in r&&(n.unseatedScoreTrend=t.getInt(r["@unseated.score.trend"])),"user.ratedby"in r){var i=r["user.ratedby"];n.userRatedBy={id:t.getInt(i["@id"]),score:t.getInt(i["@score"]),date:t.getDate(i["@date"]),href:i["@href"],seated:t.getBool(i["@seated"])}}return n}},e("pageRatingModel",r)}}}),e.register("4",["2","3","5"],function(e){"use strict";var t,r,n,i;return{setters:[function(e){t=e.pageRatingModel},function(e){r=e.modelHelper},function(e){n=e.userModel}],execute:function(){i={parse:function(e){var o=r.fromJson(e),s={id:r.getInt(o["@id"]),deleted:r.getBool(o["@deleted"]),dateCreated:r.getDate(o["date.created"]),language:o.language,namespace:o.namespace,path:r.getString(o.path),title:o.title,uriUi:o["uri.ui"]};return r.addIfDefined(o["@href"],"href",s),r.addIfDefined(o["@revision"],"revision",s),r.addIfDefined(o["@draft.state"],"draftState",s),r.addIfDefined(o.article,"article",s),r.addIfDefined(o["language.effective"],"languageEffective",s),r.addIfDefined(o.timeuuid,"timeuuid",s),"@unpublish"in o&&(s.unpublish=r.getBool(o["@unpublish"])),"@virtual"in o&&(s.virtual=r.getBool(o["@virtual"])),"date.modified"in o&&(s.dateModified=r.getDate(o["date.modified"])),"date.edited"in o&&(s.dateEdited=r.getDate(o["date.edited"])),"page.parent"in o&&(s.pageParent=i._getParents(o["page.parent"])),"rating"in o&&(s.rating=t.parse(o.rating)),"user.author"in o&&(s.userAuthor=n.parse(o["user.author"])),"subpages"in o&&"string"!=typeof o.subpages&&"page"in o.subpages&&(s.subpages=i._getSubpages(o.subpages)),s},_getParents:function(e){return i.parse(e)},_getSubpages:function(e){var t=e.page,n=[];return t=r.getArray(t),t.forEach(function(e){n.push(i.parse(e))}),n}},e("pageModel",i)}}}),e.register("6",["3"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.modelHelper}],execute:function(){r={parse:function(e){var r=t.fromJson(e),n={operations:t.getString(r.operations).split(","),role:{id:t.getInt(r.role["@id"]),name:t.getString(r.role)}};return n}},e("permissionsModel",r)}}}),e.register("5",["3","4","6"],function(e){"use strict";var t,r,n,i;return{setters:[function(e){t=e.modelHelper},function(e){r=e.pageModel},function(e){n=e.permissionsModel}],execute:function(){i={parse:function(e){var i=t.fromJson(e),o={id:t.getInt(i["@id"]),wikiId:i["@wikiid"],href:i["@href"],dateCreated:t.getDate(i["date.created"]),email:i.email,fullname:i.fullname,username:i.username,nick:i.nick,status:i.status};return"string"==typeof i["license.seat"]?(o.seated=t.getBool(i["license.seat"]),o.siteOwner=!1):(o.seated=t.getBool(t.getString(i["license.seat"])),o.siteOwner=t.getBool(i["license.seat"]["@owner"])),"date.lastlogin"in i&&(o.dateLastLogin=t.getDate(i["date.lastlogin"])),"page.home"in i&&(o.pageHome=r.parse(i["page.home"])),"permissions.user"in i&&(o.userPermissions=n.parse(i["permissions.user"])),o}},e("userModel",i)}}}),e.register("7",["3","5"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.modelHelper},function(e){r=e.userModel}],execute:function(){n={parse:function(e){var n=t.fromJson(e),i={count:n["@count"],users:[]};if(t.addIfDefined(n["@querycount"],"querycount",i),t.addIfDefined(n["@totalcount"],"totalcount",i),t.addIfDefined(n["@href"],"href",i),"user"in n){var o=t.getArray(n.user);o.forEach(function(e){i.users.push(r.parse(e))})}return i}},e("userListModel",n)}}}),e.register("8",["5","7","9","b","c","a"],function(e){var t,r,n,i,o,s,u,a;return{setters:[function(e){t=e.userModel},function(e){r=e.userListModel},function(e){n=e.Plug},function(e){i=e["default"]},function(e){o=e["default"]},function(e){s=e.utility}],execute:function(){"use strict";u=function(){function e(t,r){void 0===t&&(t="current"),o(this,e),this._id=s.getResourceId(t,"current"),this._plug=new n(r).at("@api","deki","users",this._id)}return i(e,[{key:"getInfo",value:function(){return this._plug.get().then(t.parse)}}]),e}(),e("User",u),a=function(){function e(t){o(this,e),this.settings=t,this.plug=new n(t).at("@api","deki","users")}return i(e,[{key:"getCurrentUser",value:function(){return this.plug.at("current").get().then(t.parse)}},{key:"getUsers",value:function(){return this.plug.get().then(r.parse)}},{key:"searchUsers",value:function(e){return this.plug.at("search").withParams(e).get().then(r.parse)}},{key:"getUser",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"current":arguments[0];return new u(e,this.settings)}}]),e}(),e("UserManager",a)}}}),e.register("d",["3","e"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.modelHelper},function(e){r=e.eventModel}],execute:function(){n={parse:function(e){var n=t.fromJson(e),i={count:t.getInt(n["@count"]),upto:n["@upto"],since:n["@since"],events:[]},o=t.getArray(n.event);return o.forEach(function(e){i.events.push(r.parse(e))}),i}},e("userActivityModel",n)}}}),e.register("f",["3","e"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.modelHelper},function(e){r=e.eventModel}],execute:function(){n={parse:function(e){var n=t.fromJson(e),i={count:t.getInt(n["@count"]),upto:n["@upto"],since:n["@since"],summary:[]},o=t.getArray(n.summary);return o.forEach(function(e){var n={id:e["@id"],datetime:t.getDate(e["@datetime"]),count:t.getInt(e["@count"]),detailid:e["@detailid"],uriDetail:e["@uri.detail"],event:r.parse(e.event)};i.summary.push(n)}),i}},e("eventListModel",n)}}}),e.register("e",["3"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.modelHelper}],execute:function(){r={parse:function(e){var r=t.fromJson(e),n={id:r["@id"],datetime:t.getDate(r["@datetime"]),type:r["@type"],journaled:t.getBool(r["@journaled"]),version:t.getInt(r["@version"]),requestId:r.request["@id"]};return"@language"in r&&(n.language=r["@language"]),"page"in r&&(n.page={id:r.page["@id"],path:r.page.path},"@revision"in r.page&&(n.page.revision=t.getInt(r.page["@revision"]))),"user"in r&&(n.user={id:r.user["@id"]},"name"in r.user&&(n.user.name=r.user.name)),"data"in r&&("user:search"===n.type?n.data={constraint:r.data.constraint,path:r.data.path,query:r.data.query,limit:t.getInt(r.data.limit),qid:t.getInt(r.data.qid),totalrecommended:t.getInt(r.data.totalrecommended),totalresults:t.getInt(r.data.totalresults)}:n.data={host:r.data["_uri.host"],query:r.data["_uri.query"],scheme:r.data["_uri.scheme"]}),n}},e("eventModel",r)}}}),e.register("10",["3","e"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.modelHelper},function(e){r=e.eventModel}],execute:function(){n={parse:function(e){var n=t.fromJson(e),i={count:t.getInt(n["@count"]),summary:{id:n.summary["@id"],datetime:t.getDate(n.summary["@datetime"]),count:t.getInt(n.summary["@count"]),journaled:t.getBool(n.summary["@journaled"]),diffable:t.getBool(n.summary["@diffable"]),event:r.parse(n.summary.event)}};return i}},e("eventDetailModel",n)}}}),e.register("11",["9","10","b","c","a","d","f"],function(e){var t,r,n,i,o,s,u,a;return{setters:[function(e){t=e.Plug},function(e){r=e.eventDetailModel},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.utility},function(e){s=e.userActivityModel},function(e){u=e.eventListModel}],execute:function(){"use strict";a=function(){function e(r){i(this,e),this.settings=r,this.plug=new t(r).at("@api","deki","events")}return n(e,[{key:"getActivity",value:function(e){return this.plug.at("support-agent",e).get().then(s.parse)}},{key:"getHistory",value:function(e){return this.plug.at("user-page",o.getResourceId(e,"current")).get().then(u.parse)}},{key:"getHistoryDetail",value:function(e,t){return this.plug.at("user-page",o.getResourceId(e,"current"),t).get().then(r.parse)}},{key:"logSearch",value:function(e,t){return this.plug.at("search",o.getResourceId(e,"current")).post(JSON.stringify(t),o.jsonRequestType)}}]),e}(),e("UserEvents",a)}}}),e.register("12",["8","11","b","c"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e.UserManager},function(e){r=e.UserEvents},function(e){n=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";o=function(){function e(r){i(this,e),this.settings=r,this.martianUser=new t(r)}return n(e,[{key:"getCurrentUser",value:function(){return this.martianUser.getCurrentUser()}},{key:"getLoginUrl",value:function(){return this.settings.get("host")+"/@app/login/redirect"}},{key:"getInsights",value:function(e){var t=new r(this.settings);return t.getActivity(e)}}]),e}(),e("User",o)}}}),e.register("a",[],function(e){"use strict";var t;return{setters:[],execute:function(){t={xmlRequestType:"application/xml; charset=utf-8",textRequestType:"text/plain; charset=utf-8",jsonRequestType:"application/json; charset=utf-8",searchEscape:function(e){var t=e.toString(),r=["\\","+","-","&","|","!","(",")","{","}","[","]","^",'"',"~","*","?",":"];return r.forEach(function(e){var r=new RegExp("\\"+e,"g");t=t.replace(r,"\\"+e)}),t},getResourceId:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=null;return r="string"==typeof e&&e!==t?"="+encodeURIComponent(encodeURIComponent(e)):e}},e("utility",t)}}}),e.registerDynamic("13",[],!0,function(e,t,r){return r.exports}),e.registerDynamic("14",["15","16"],!0,function(e,t,r){var n=e("15"),i=e("16");return r.exports=function(e){return function(t,r){var o,s,u=String(i(t)),a=n(r),c=u.length;return 0>a||a>=c?e?"":void 0:(o=u.charCodeAt(a),55296>o||o>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):o:e?u.slice(a,a+2):(o-55296<<10)+(s-56320)+65536)}},r.exports}),e.registerDynamic("17",["14","18"],!0,function(e,t,r){"use strict";var n=e("14")(!0);return e("18")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}),r.exports}),e.registerDynamic("19",[],!0,function(e,t,r){return r.exports=function(){},r.exports}),e.registerDynamic("1a",[],!0,function(e,t,r){return r.exports=function(e,t){return{value:t,done:!!e}},r.exports}),e.registerDynamic("1b",["1c","1d","1e","1f","20"],!0,function(e,t,r){"use strict";var n=e("1c"),i=e("1d"),o=e("1e"),s={};return e("1f")(s,e("20")("iterator"),function(){return this}),r.exports=function(e,t,r){e.prototype=n.create(s,{next:i(1,r)}),o(e,t+" Iterator")},r.exports}),e.registerDynamic("18",["21","22","23","1f","24","25","1b","1e","1c","20"],!0,function(e,t,r){"use strict";var n=e("21"),i=e("22"),o=e("23"),s=e("1f"),u=e("24"),a=e("25"),c=e("1b"),f=e("1e"),l=e("1c").getProto,p=e("20")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",v="values",m=function(){return this};return r.exports=function(e,t,r,y,x,w,k){c(r,t,y);var D,b,_=function(e){if(!d&&e in E)return E[e];switch(e){case g:return function(){return new r(this,e)};case v:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",P=x==v,I=!1,E=e.prototype,M=E[p]||E[h]||x&&E[x],T=M||_(x);if(M){var O=l(T.call(new e));f(O,S,!0),!n&&u(E,h)&&s(O,p,m),P&&M.name!==v&&(I=!0,T=function(){return M.call(this)})}if(n&&!k||!d&&!I&&E[p]||s(E,p,T),a[t]=T,a[S]=m,x)if(D={values:P?T:_(v),keys:w?T:_(g),entries:P?_("entries"):T},k)for(b in D)b in E||o(E,b,D[b]);else i(i.P+i.F*(d||I),t,D);return D},r.exports}),e.registerDynamic("26",["19","1a","25","27","18"],!0,function(e,t,r){"use strict";var n=e("19"),i=e("1a"),o=e("25"),s=e("27");return r.exports=e("18")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries"),r.exports}),e.registerDynamic("28",["26","25"],!0,function(e,t,r){e("26");var n=e("25");return n.NodeList=n.HTMLCollection=n.Array,r.exports}),e.registerDynamic("21",[],!0,function(e,t,r){return r.exports=!0,r.exports}),e.registerDynamic("29",[],!0,function(e,t,r){return r.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e},r.exports}),e.registerDynamic("2a",["2b"],!0,function(e,t,r){var n=e("2b");return r.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var s=e["return"];throw void 0!==s&&n(s.call(e)),o}},r.exports}),e.registerDynamic("2c",["25","20"],!0,function(e,t,r){var n=e("25"),i=e("20")("iterator"),o=Array.prototype;return r.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)},r.exports}),e.registerDynamic("15",[],!0,function(e,t,r){var n=Math.ceil,i=Math.floor;return r.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)},r.exports}),e.registerDynamic("2d",["15"],!0,function(e,t,r){var n=e("15"),i=Math.min;return r.exports=function(e){return e>0?i(n(e),9007199254740991):0},r.exports}),e.registerDynamic("2e",["2f","20"],!0,function(e,t,r){var n=e("2f"),i=e("20")("toStringTag"),o="Arguments"==n(function(){return arguments}());return r.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s},r.exports}),e.registerDynamic("25",[],!0,function(e,t,r){return r.exports={},r.exports}),e.registerDynamic("30",["2e","20","25","31"],!0,function(e,t,r){var n=e("2e"),i=e("20")("iterator"),o=e("25");return r.exports=e("31").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0},r.exports}),e.registerDynamic("32",["33","2a","2c","2b","2d","30"],!0,function(e,t,r){var n=e("33"),i=e("2a"),o=e("2c"),s=e("2b"),u=e("2d"),a=e("30");return r.exports=function(e,t,r,c){var f,l,p,d=a(e),h=n(r,c,t?2:1),g=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(o(d))for(f=u(e.length);f>g;g++)t?h(s(l=e[g])[0],l[1]):h(e[g]);else for(p=d.call(e);!(l=p.next()).done;)i(p,h,l.value,t)},r.exports}),e.registerDynamic("34",[],!0,function(e,t,r){return r.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t},r.exports}),e.registerDynamic("35",["2b","36","20"],!0,function(e,t,r){var n=e("2b"),i=e("36"),o=e("20")("species");return r.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[o])?t:i(r)},r.exports}),e.registerDynamic("37",[],!0,function(e,t,r){return r.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},r.exports}),e.registerDynamic("38",["39"],!0,function(e,t,r){return r.exports=e("39").document&&document.documentElement,r.exports}),e.registerDynamic("3a",["3b","39"],!0,function(e,t,r){var n=e("3b"),i=e("39").document,o=n(i)&&n(i.createElement);return r.exports=function(e){return o?i.createElement(e):{}},r.exports}),e.registerDynamic("3c",["33","37","38","3a","39","2f","3d"],!0,function(e,t,r){return function(t){var n,i,o,s=e("33"),u=e("37"),a=e("38"),c=e("3a"),f=e("39"),t=f.process,l=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,h=0,g={},v="onreadystatechange",m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){m.call(e.data)};l&&p||(l=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++h]=function(){u("function"==typeof e?e:Function(e),t)},n(h),h},p=function(e){delete g[e]},"process"==e("2f")(t)?n=function(e){t.nextTick(s(m,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=y,n=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",y,!1)):n=v in c("script")?function(e){a.appendChild(c("script"))[v]=function(){a.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),r.exports={set:l,clear:p}}(e("3d")),r.exports}),e.registerDynamic("3e",["39","3c","2f","3d"],!0,function(e,t,r){return function(t){var n,i,o,s=e("39"),u=e("3c").set,a=s.MutationObserver||s.WebKitMutationObserver,t=s.process,c=s.Promise,f="process"==e("2f")(t),l=function(){var e,r,o;for(f&&(e=t.domain)&&(t.domain=null,e.exit());n;)r=n.domain,o=n.fn,r&&r.enter(),o(),r&&r.exit(),n=n.next;i=void 0,e&&e.enter()};if(f)o=function(){t.nextTick(l)};else if(a){var p=1,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),o=function(){d.data=p=-p}}else o=c&&c.resolve?function(){c.resolve().then(l)}:function(){u.call(s,l)};r.exports=function(e){var r={fn:e,next:void 0,domain:f&&t.domain};i&&(i.next=r),n||(n=r,o()),i=r}}(e("3d")),r.exports}),e.registerDynamic("1d",[],!0,function(e,t,r){return r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},r.exports}),e.registerDynamic("1f",["1c","1d","3f"],!0,function(e,t,r){var n=e("1c"),i=e("1d");return r.exports=e("3f")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e},r.exports}),e.registerDynamic("23",["1f"],!0,function(e,t,r){return r.exports=e("1f"),r.exports}),e.registerDynamic("40",["23"],!0,function(e,t,r){var n=e("23");return r.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e},r.exports}),e.registerDynamic("24",[],!0,function(e,t,r){var n={}.hasOwnProperty;return r.exports=function(e,t){return n.call(e,t)},r.exports}),e.registerDynamic("1e",["1c","24","20"],!0,function(e,t,r){var n=e("1c").setDesc,i=e("24"),o=e("20")("toStringTag");return r.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})},r.exports}),e.registerDynamic("3f",["41"],!0,function(e,t,r){return r.exports=!e("41")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),r.exports}),e.registerDynamic("42",["31","1c","3f","20"],!0,function(e,t,r){"use strict";var n=e("31"),i=e("1c"),o=e("3f"),s=e("20")("species");return r.exports=function(e){var t=n[e];o&&t&&!t[s]&&i.setDesc(t,s,{configurable:!0,get:function(){return this}})},r.exports}),e.registerDynamic("43",["39"],!0,function(e,t,r){var n=this,n=e("39"),i="__core-js_shared__",o=n[i]||(n[i]={});return r.exports=function(e){return o[e]||(o[e]={})},r.exports}),e.registerDynamic("44",[],!0,function(e,t,r){var n=0,i=Math.random();return r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))},r.exports}),e.registerDynamic("20",["43","44","39"],!0,function(e,t,r){var n=e("43")("wks"),i=e("44"),o=e("39").Symbol;return r.exports=function(e){return n[e]||(n[e]=o&&o[e]||(o||i)("Symbol."+e))},r.exports}),e.registerDynamic("45",["20"],!0,function(e,t,r){var n=e("20")("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}return r.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){r=!0},o[n]=function(){return s},e(o)}catch(u){}return r},r.exports}),e.registerDynamic("46",[],!0,function(e,t,r){function n(){f=!1,u.length?c=u.concat(c):l=-1,c.length&&i()}function i(){if(!f){var e=setTimeout(n);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var u,a=r.exports={},c=[],f=!1,l=-1;return a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0},r.exports}),e.registerDynamic("47",["46"],!0,function(e,t,r){return r.exports=e("46"),r.exports}),e.registerDynamic("48",["47"],!0,function(t,r,n){return n.exports=e._nodeRequire?process:t("47"),n.exports}),e.registerDynamic("3d",["48"],!0,function(e,t,r){return r.exports=e("48"),r.exports}),e.registerDynamic("49",["1c","21","39","33","2e","22","3b","2b","36","29","32","4a","34","20","35","3e","3f","40","1e","42","31","45","3d"],!0,function(e,t,r){return function(t){"use strict";var r,n=e("1c"),i=e("21"),o=e("39"),s=e("33"),u=e("2e"),a=e("22"),c=e("3b"),f=e("2b"),l=e("36"),p=e("29"),d=e("32"),h=e("4a").set,g=e("34"),v=e("20")("species"),m=e("35"),y=e("3e"),x="Promise",t=o.process,w="process"==u(t),k=o[x],D=function(e){var t=new k(function(){});return e&&(t.constructor=Object),k.resolve(t)===t},b=function(){function t(e){var r=new k(e);return h(r,t.prototype),r}var r=!1;try{if(r=k&&k.resolve&&D(),h(t,k),t.prototype=n.create(k.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("3f")){var i=!1;k.resolve(n.setDesc({},"then",{get:function(){i=!0}})),r=i}}catch(o){r=!1}return r}(),_=function(e,t){return i&&e===k&&t===r?!0:g(e,t)},S=function(e){var t=f(e)[v];return void 0!=t?t:e},P=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},I=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=l(t),this.reject=l(r)},E=function(e){try{e()}catch(t){return{error:t}}},M=function(e,r){if(!e.n){e.n=!0;var n=e.c;y(function(){for(var i=e.v,s=1==e.s,u=0,a=function(t){var r,n,o=s?t.ok:t.fail,u=t.resolve,a=t.reject;try{o?(s||(e.h=!0),r=o===!0?i:o(i),r===t.promise?a(TypeError("Promise-chain cycle")):(n=P(r))?n.call(r,u,a):u(r)):a(i)}catch(c){a(c)}};n.length>u;)a(n[u++]);n.length=0,e.n=!1,r&&setTimeout(function(){var r,n,s=e.p;T(s)&&(w?t.emit("unhandledRejection",i,s):(r=o.onunhandledrejection)?r({promise:s,reason:i}):(n=o.console)&&n.error&&n.error("Unhandled promise rejection",i)),e.a=void 0},1)})}},T=function(e){var t,r=e._d,n=r.a||r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!T(t.promise))return!1;return!0},O=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),M(t,!0))},j=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=P(e))?y(function(){var n={r:r,d:!1};try{t.call(e,s(j,n,1),s(O,n,1))}catch(i){O.call(n,i)}}):(r.v=e,r.s=1,M(r,!1))}catch(n){O.call({r:r,d:!1},n)}}};b||(k=function(e){l(e);var t=this._d={p:p(this,k,x),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(j,t,1),s(O,t,1))}catch(r){O.call(t,r)}},e("40")(k.prototype,{then:function(e,t){var r=new I(m(this,k)),n=r.promise,i=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,i.c.push(r),i.a&&i.a.push(r),i.s&&M(i,!1),n},"catch":function(e){return this.then(void 0,e)}})),a(a.G+a.W+a.F*!b,{Promise:k}),e("1e")(k,x),e("42")(x),r=e("31")[x],a(a.S+a.F*!b,x,{reject:function(e){var t=new I(this),r=t.reject;return r(e),t.promise}}),a(a.S+a.F*(!b||D(!0)),x,{resolve:function(e){if(e instanceof k&&_(e.constructor,this))return e;var t=new I(this),r=t.resolve;return r(e),t.promise}}),a(a.S+a.F*!(b&&e("45")(function(e){k.all(e)["catch"](function(){})})),x,{all:function(e){var t=S(this),r=new I(t),i=r.resolve,o=r.reject,s=[],u=E(function(){d(e,!1,s.push,s);var r=s.length,u=Array(r);r?n.each.call(s,function(e,n){var s=!1;t.resolve(e).then(function(e){s||(s=!0,u[n]=e,--r||i(u))},o)}):i(u)});return u&&o(u.error),r.promise},race:function(e){var t=S(this),r=new I(t),n=r.reject,i=E(function(){d(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i&&n(i.error),r.promise}})}(e("3d")),r.exports}),e.registerDynamic("4b",["13","17","28","49","31"],!0,function(e,t,r){return e("13"),e("17"),e("28"),e("49"),r.exports=e("31").Promise,r.exports}),e.registerDynamic("4c",["4b"],!0,function(e,t,r){return r.exports={"default":e("4b"),__esModule:!0},r.exports}),e.register("4d",["b","c"],function(e){function t(e){var t=["href","protocol","username","password","hostname","port","pathname","search","hash"],r=o.exec(e),n={};return t.forEach(function(e,t){n[e]=r[t]}),n}function r(e){var t=[],r=e.split("&");return r.forEach(function(e){var r=e.split("=");t.push([r[0],r[1]])}),t}var n,i,o,s,u;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+:))?(?:\/\/)?(?:([^:@\/]*)(?::([^:@\/]*))?@)?(\[[0-9a-fA-F.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?((?:[^?#](?![^?#\/]*\.(?:[?#]|$)))*\/?)?[^?#\/]*(?:(\?[^#]*))?(?:(#.*))?/,s=function(){function e(t){i(this,e),this.params=[],t&&""!==t&&("?"===t[0]&&(t=t.slice(1)),this.params=r(t))}return n(e,[{key:"append",value:function(e,t){this.params.push([e,t])}},{key:"delete",value:function(e){var t=[];this.params.forEach(function(r){r[0]!==e&&t.push(r)}),this.params=t}},{key:"get",value:function(e){for(var t=null,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=this.params[r][1];break}return t}},{key:"getAll",value:function(e){var t=[];return this.params.forEach(function(r){r[0]===e&&t.push(r[1])}),t}},{key:"has",value:function(e){for(var t=!1,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=!0;break}return t}},{key:"set",value:function(e,t){var r=!1,n=[];this.params.forEach(function(i){i[0]!==e||r?i[0]!==e&&n.push(i):(i[1]=t,n.push(i),r=!0)}),this.params=n}},{key:"toString",value:function(){return this.params.reduce(function(e,t,r){return""+e+(0===r?"":"&")+t[0]+"="+t[1]},"")}},{key:"entries",get:function(){return this.params}}]),e}(),e("UriSearchParams",s),u=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(i(this,e),"string"!=typeof r)throw new TypeError("Failed to construct 'URL': The supplied URL must be a string");var n=t(r),o="undefined"!=typeof n.protocol&&""!==n.protocol,u="undefined"!=typeof n.hostname&&""!==n.hostname;if(o&&!u||!o&&u)throw new TypeError("Failed to construct 'URL': Protocol and hostname must be supplied together");o||u||(this.hostless=!0),this.parts=n,this.params=new s(this.parts.search)}return n(e,[{key:"toString",value:function(){var e="";return this.hostless||(e=this.protocol+"//",this.username&&""!==this.username&&(e=""+e+this.username,this.password&&""!==this.password&&(e=e+":"+this.password),e+="@")),e=""+e+this.host+this.pathname,this.search&&""!==this.search&&(e=""+e+this.search),this.hash&&""!==this.hash&&(e=""+e+this.hash),e}},{key:"protocol",get:function(){return this.parts.protocol.toLowerCase()},set:function(e){this.parts.protocol=e}},{key:"hostname",get:function(){return this.parts.hostname},set:function(e){this.parts.hostname=e}},{key:"port",get:function(){return this.parts.port||""},set:function(e){this.parts.port=e}},{key:"pathname",get:function(){return this.parts.pathname||"/"},set:function(e){this.parts.pathname=e}},{key:"search",get:function(){return 0===this.params.entries.length?"":"?"+this.params.toString()},set:function(e){this.parts.search=e,this.params=new s(e)}},{key:"hash",get:function(){return this.parts.hash||""},set:function(e){this.parts.hash=e}},{key:"username",get:function(){return this.parts.username||""},set:function(e){this.parts.username=e}},{key:"password",get:function(){return this.parts.password||""},set:function(e){this.parts.password=e}},{key:"href",get:function(){return this.toString();
},set:function(e){this.parts=t(e),this.search=this.parts.search}},{key:"host",get:function(){var e=this.hostname.toLowerCase();return this.port&&(e=e+":"+this.port),e},set:function(e){var t=e.split(":");this.hostname=t[0],t.length>1?this.port=t[1]:this.port=""}},{key:"origin",get:function(){return this.protocol+"//"+this.host}},{key:"searchParams",get:function(){return this.params},set:function(e){this.params=e,this.parts.search="?"+e.toString()}}]),e}(),e("UriParser",u)}}}),e.register("4e",[],function(e){"use strict";var t;return{setters:[],execute:function(){t={isBlank:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return/^\s*$/.test(this.makeString(e))},makeString:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return"string"!=typeof e?String(e):e},leftTrim:function(e){var t=arguments.length<=1||void 0===arguments[1]?"\\s":arguments[1];return e=this.makeString(e),e.replace(new RegExp("^"+t+"+"),"")},startsWith:function(e,t){return e=this.makeString(e),0===e.lastIndexOf(t,0)},stringLeft:function(e,t){if(!t)return e;e=this.makeString(e),t=this.makeString(t);var r=e.indexOf(t);return r>=0?e.slice(0,r):e},stringRight:function(e,t){if(!t)return e;e=this.makeString(e),t=this.makeString(t);var r=e.indexOf(t);return r>=0?e.slice(r+t.length,e.length):e},words:function(e){var t=arguments.length<=1||void 0===arguments[1]?/\s+/:arguments[1];return e=this.makeString(e),e.split(t)}},e("stringUtility",t)}}}),e.register("4f",["50","b","c","4d","4e"],function(e){var t,r,n,i,o,s;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.UriParser},function(e){o=e.stringUtility}],execute:function(){"use strict";s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];n(this,e),this.parsedUrl=new i(t)}return r(e,[{key:"removeQueryParam",value:function(e){return this.parsedUrl.searchParams["delete"](e),this}},{key:"addQueryParam",value:function(e,t){return this.parsedUrl.searchParams.append(e,encodeURIComponent(t)),this}},{key:"addQueryParams",value:function(e){var r=this;return t(e).forEach(function(t){r.addQueryParam(t,e[t])}),this}},{key:"addSegments",value:function(){for(var e="",t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];r.forEach(function(t){Array.isArray(t)?t.forEach(function(t){t=o.leftTrim(t,"/"),e=e+"/"+t}):(t=o.leftTrim(t,"/"),e=e+"/"+t)});var i=this.parsedUrl.pathname;return"/"===i&&(i=""),this.parsedUrl.pathname=""+i+e,this}},{key:"toString",value:function(){return this.parsedUrl.toString()}},{key:"protocol",get:function(){return this.parsedUrl.protocol}},{key:"origin",get:function(){return this.parsedUrl.origin}}]),e}(),e("Uri",s)}}}),e.registerDynamic("2f",[],!0,function(e,t,r){var n={}.toString;return r.exports=function(e){return n.call(e).slice(8,-1)},r.exports}),e.registerDynamic("51",["2f"],!0,function(e,t,r){var n=e("2f");return r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)},r.exports}),e.registerDynamic("27",["51","16"],!0,function(e,t,r){var n=e("51"),i=e("16");return r.exports=function(e){return n(i(e))},r.exports}),e.registerDynamic("52",["27","53"],!0,function(e,t,r){var n=e("27");return e("53")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}}),r.exports}),e.registerDynamic("54",["1c","52"],!0,function(e,t,r){var n=e("1c");return e("52"),r.exports=function(e,t){return n.getDesc(e,t)},r.exports}),e.registerDynamic("55",["54"],!0,function(e,t,r){return r.exports={"default":e("54"),__esModule:!0},r.exports}),e.registerDynamic("56",["55"],!0,function(e,t,r){"use strict";var n=e("55")["default"];return t["default"]=function(e,t,r){for(var i=!0;i;){var o=e,s=t,u=r;i=!1,null===o&&(o=Function.prototype);var a=n(o,s);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(u)}var f=Object.getPrototypeOf(o);if(null===f)return;e=f,t=s,r=u,i=!0,a=f=void 0}},t.__esModule=!0,r.exports}),e.registerDynamic("57",["1c"],!0,function(e,t,r){var n=e("1c");return r.exports=function(e,t){return n.create(e,t)},r.exports}),e.registerDynamic("58",["57"],!0,function(e,t,r){return r.exports={"default":e("57"),__esModule:!0},r.exports}),e.registerDynamic("3b",[],!0,function(e,t,r){return r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},r.exports}),e.registerDynamic("2b",["3b"],!0,function(e,t,r){var n=e("3b");return r.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},r.exports}),e.registerDynamic("4a",["1c","3b","2b","33"],!0,function(e,t,r){var n=e("1c").getDesc,i=e("3b"),o=e("2b"),s=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};return r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("33")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(o){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:s},r.exports}),e.registerDynamic("59",["22","4a"],!0,function(e,t,r){var n=e("22");return n(n.S,"Object",{setPrototypeOf:e("4a").set}),r.exports}),e.registerDynamic("5a",["59","31"],!0,function(e,t,r){return e("59"),r.exports=e("31").Object.setPrototypeOf,r.exports}),e.registerDynamic("5b",["5a"],!0,function(e,t,r){return r.exports={"default":e("5a"),__esModule:!0},r.exports}),e.registerDynamic("5c",["58","5b"],!0,function(e,t,r){"use strict";var n=e("58")["default"],i=e("5b")["default"];return t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0,r.exports}),e.register("5d",["56","5c","c"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]}],execute:function(){"use strict";i=function(e){function i(e){n(this,i),t(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.message=e,this.stack=(new Error).stack,this.name=this.constructor.name}return r(i,e),i}(Error),e("default",i)}}}),e.register("5e",["56","5c","c","5d"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";o=function(e){function i(e){var r=arguments.length<=1||void 0===arguments[1]?"":arguments[1];n(this,i);var o=void 0,s=void 0;if("responseText"in e)try{o=JSON.parse(e.responseText),s=o.message}catch(u){s=e.responseText||r}s=s||"Status "+e.status+" from request",t(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,s),this.errorCode=e.status,this.response=o||null}return r(i,e),i}(i),e("default",o)}}}),e.register("9",["50","b","c","4c","5f","4f","5e"],function(e){function t(e){return new u(function(t,r){(e.status<200||e.status>=300)&&304!==e.status?r(new f(e)):t(e)})}function r(e){return u.resolve(e.responseText||"")}function n(e){var t=this;return new u(function(r,n){var o=new XMLHttpRequest;o.withCredentials=!0;var s={_:Date.now(),origin:"mt-web"};t.parseJson&&(s["dream.out.format"]="json");var u=new c(t.withParams(s).getUrl());o.open(e.verb,u.toString()),o.setRequestHeader("X-Deki-Client","mindtouch-martian");var a=t.settings.get("origin");if(a&&""!==a){var f=new c(a);u.origin===f.origin&&o.setRequestHeader("X-Deki-Requested-With","XMLHttpRequest")}i(t.headers).forEach(function(e){o.setRequestHeader(e,t.headers[e])}),"mime"in e&&o.setRequestHeader("Content-Type",e.mime),t._timeout&&(o.timeout=t._timeout),o.onload=function(){r(o)},o.onerror=function(){n(o)},o.ontimeout=function(){n(o)},"value"in e&&null!==e.value?o.send(e.value):o.send()})}var i,o,s,u,a,c,f,l;return{setters:[function(e){i=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){u=e["default"]},function(e){a=e.Settings},function(e){c=e.Uri},function(e){f=e["default"]}],execute:function(){"use strict";l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new a:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,e);var n="",i=null;this.settings=t,n=this.settings.get("host"),i=this.settings.get("token");var o=new c(n);"constructionParams"in r?("segments"in r.constructionParams&&o.addSegments(r.constructionParams.segments),"query"in r.constructionParams&&o.addQueryParams(r.constructionParams.query),"excludeQuery"in r.constructionParams&&o.removeQueryParam(r.constructionParams.excludeQuery),"timeout"in r.constructionParams&&(this._timeout=r.constructionParams.timeout)):r.constructionParams={},this.url=o,this.headers=r.headers||{},i&&""!==i&&(this.headers["X-Deki-Token"]=i),this.parseJson=r.raw!==!0}return o(e,[{key:"getUrl",value:function(){return this.url.toString()}},{key:"getHeaders",value:function(){return this.headers}},{key:"at",value:function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];var i=[];r.forEach(function(e){i.push(e.toString())});var o=this.settings.clone({host:this.url.toString()});return new e(o,{headers:this.headers,constructionParams:{segments:r}})}},{key:"withParam",value:function(t,r){var n={};n[t]=r;var i=this.settings.clone({host:this.url.toString()});return new e(i,{headers:this.headers,constructionParams:{query:n}})}},{key:"withParams",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=this.settings.clone({host:this.url.toString()});return new e(r,{headers:this.headers,constructionParams:{query:t}})}},{key:"withoutParam",value:function(t){var r=this.settings.clone({host:this.url.toString()});return new e(r,{headers:this.headers,constructionParams:{excludeQuery:t}})}},{key:"_copyHeaders",value:function(){var e=this,t={};return i(this.headers).forEach(function(r){t[r]=e.headers[r]}),t}},{key:"withHeader",value:function(t,r){var n=this._copyHeaders();n[t]=r;var i=this.settings.clone({host:this.url.toString()});return new e(i,{headers:n})}},{key:"withHeaders",value:function(t){var r=this._copyHeaders();i(t).forEach(function(e){r[e]=t[e]});var n=this.settings.clone({host:this.url.toString()});return new e(n,{headers:r})}},{key:"withoutHeader",value:function(t){var r=this._copyHeaders();delete r[t];var n=this.settings.clone({host:this.url.toString()});return new e(n,{headers:r})}},{key:"get",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"GET":arguments[0];return this.getRaw(e).then(t).then(r)}},{key:"getRaw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"GET":arguments[0];return n.call(this,{verb:e})}},{key:"post",value:function(e,n){return this.postRaw(e,n).then(t).then(r)}},{key:"postRaw",value:function(e,t){return n.call(this,{verb:"POST",value:e,mime:t})}},{key:"put",value:function(e,t){return this.withHeader("X-HTTP-Method-Override","PUT").post(e,t)}},{key:"putRaw",value:function(e,t){return this.withHeader("X-HTTP-Method-Override","PUT").postRaw(e,t)}},{key:"head",value:function(){return this.get("HEAD")}},{key:"headRaw",value:function(){return this.getRaw("HEAD")}},{key:"options",value:function(){return this.get("OPTIONS")}},{key:"optionsRaw",value:function(){return this.getRaw("OPTIONS")}},{key:"del",value:function(){return this.withHeader("X-HTTP-Method-Override","DELETE").post(null,null)}},{key:"delRaw",value:function(){return this.withHeader("X-HTTP-Method-Override","DELETE").postRaw(null,null)}},{key:"delete",value:function(){return this.del()}}]),e}(),e("Plug",l)}}}),e.register("3",[],function(e){"use strict";var t;return{setters:[],execute:function(){t={fromJson:function(e){return"string"==typeof e&&(e=JSON.parse(e)),e},getInt:function(e){return parseInt(e,10)},getString:function(e){return"string"==typeof e?e:e["#text"]},getBool:function(e){return"true"===e},getDate:function(e){return new Date(e)},getArray:function(e){return e?Array.isArray(e)?e:[e]:[]},addIfDefined:function(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"undefined"!=typeof e&&(null!==n&&(e=n.parse.call(n,e)),r[t]=e)}},e("modelHelper",t)}}}),e.register("60",["3"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.modelHelper}],execute:function(){r={parse:function(e){var r=t.fromJson(e),n={ranking:r["@ranking"],queryId:r["@queryid"],queryCount:t.getInt(r["@querycount"]),recommendationCount:t.getInt(r["@count.recommendations"]),count:t.getInt(r["@count"]),result:[]};if("result"in r){var i=t.getArray(r.result);i.forEach(function(e){n.result.push({author:e.author,content:e.content,dateModified:t.getDate(e["date.modified"]),id:e.id,mime:e.mime,rank:e.rank,title:e.title,uri:e.uri,uriTrack:e["uri.track"],page:{path:e.page.path,rating:e.page.rating,title:e.page.title,uriUi:e.page["uri.ui"]}})})}if("summary"in r&&(n.summary={path:r.summary["@path"],results:[]},"results"in r.summary)){var i=t.getArray(r.summary.results);i.forEach(function(e){n.summary.results.push({path:e["@path"],count:t.getInt(e["@count"]),title:e["@title"]})})}return n}},e("searchModel",r)}}}),e.register("61",["9","60","b","c","4c","a","4e"],function(e){function t(e){var t=[];if(e.namespace="main",t.push("+namespace:"+u.searchEscape(e.namespace)),"path"in e){var r=e.path;a.startsWith(r,"/")&&(r=a.leftTrim(r,"/")),t.push("+path.ancestor:"+u.searchEscape(r))}if("tags"in e){var n=e.tags;"string"==typeof n&&n&&(n=n.split(",")),n.forEach(function(e){t.push('+tag:"'+u.searchEscape(e)+'"')})}return"+("+t.join(" ")+")"}var r,n,i,o,s,u,a,c;return{setters:[function(e){r=e.Plug},function(e){n=e.searchModel},function(e){i=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){u=e.utility},function(e){a=e.stringUtility}],execute:function(){"use strict";c=function(){function e(t){o(this,e),this.plug=new r(t).at("@api","deki","site")}return i(e,[{key:"getResourceString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!("key"in e))return s.reject("No resource key was supplied");var t=this.plug.at("localization",e.key);return"lang"in e&&(t=t.withParam("lang",e.lang)),t.get()}},{key:"search",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=e.page,i=void 0===r?1:r,o=e.limit,s=void 0===o?10:o,u=e.tags,a=void 0===u?"":u,c=e.q,f=void 0===c?"":c,l=e.path,p=void 0===l?"":l,d=e.recommendations,h=void 0===d?!0:d,g={};""!==p&&(g.path=p),""!==a&&(g.tags=a);var v={limit:s,page:i,offset:parseInt(s,10)*(parseInt(i,10)-1),sortBy:"-date,-rank",q:f,summarypath:encodeURI(p),constraint:t(g),recommendations:h};return this.plug.at("query").withParams(v).get().then(n.parse)}}]),e}(),e("Site",c)}}}),e.register("62",["61","b","c"],function(e){var t,r,n,i;return{setters:[function(e){t=e.Site},function(e){r=e["default"]},function(e){n=e["default"]}],execute:function(){"use strict";i=function(){function e(r){n(this,e),this.site=new t(r)}return r(e,[{key:"search",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e||""===e)throw new Error("Search requires keywords or advanced search syntax.");return t.q=e,this.site.search(t)}}]),e}(),e("Search",i)}}}),e.registerDynamic("1c",[],!0,function(e,t,r){var n=Object;return r.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach},r.exports}),e.registerDynamic("63",["1c"],!0,function(e,t,r){var n=e("1c");return r.exports=function(e,t,r){return n.setDesc(e,t,r)},r.exports}),e.registerDynamic("64",["63"],!0,function(e,t,r){return r.exports={"default":e("63"),__esModule:!0},r.exports}),e.registerDynamic("b",["64"],!0,function(e,t,r){"use strict";var n=e("64")["default"];return t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.__esModule=!0,r.exports}),e.registerDynamic("c",[],!0,function(e,t,r){"use strict";return t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,r.exports}),e.registerDynamic("16",[],!0,function(e,t,r){return r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},r.exports}),e.registerDynamic("65",["16"],!0,function(e,t,r){var n=e("16");return r.exports=function(e){return Object(n(e))},r.exports}),e.registerDynamic("39",[],!0,function(e,t,r){var n=this,n=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=n),r.exports}),e.registerDynamic("36",[],!0,function(e,t,r){return r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},r.exports}),e.registerDynamic("33",["36"],!0,function(e,t,r){var n=e("36");return r.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},r.exports}),e.registerDynamic("22",["39","31","33"],!0,function(e,t,r){var n=this,n=e("39"),i=e("31"),o=e("33"),s="prototype",u=function(e,t,r){var a,c,f,l=e&u.F,p=e&u.G,d=e&u.S,h=e&u.P,g=e&u.B,v=e&u.W,m=p?i:i[t]||(i[t]={}),y=p?n:d?n[t]:(n[t]||{})[s];p&&(r=t);for(a in r)c=!l&&y&&a in y,c&&a in m||(f=c?y[a]:r[a],m[a]=p&&"function"!=typeof y[a]?r[a]:g&&c?o(f,n):v&&y[a]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(f):h&&"function"==typeof f?o(Function.call,f):f,h&&((m[s]||(m[s]={}))[a]=f))};return u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,r.exports=u,r.exports}),e.registerDynamic("41",[],!0,function(e,t,r){return r.exports=function(e){try{return!!e()}catch(t){return!0}},r.exports}),e.registerDynamic("53",["22","31","41"],!0,function(e,t,r){var n=e("22"),i=e("31"),o=e("41");return r.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)},r.exports}),e.registerDynamic("66",["65","53"],!0,function(e,t,r){var n=e("65");return e("53")("keys",function(e){return function(t){return e(n(t))}}),r.exports}),e.registerDynamic("31",[],!0,function(e,t,r){var n=r.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=n),r.exports}),e.registerDynamic("67",["66","31"],!0,function(e,t,r){return e("66"),r.exports=e("31").Object.keys,r.exports}),e.registerDynamic("50",["67"],!0,function(e,t,r){return r.exports={"default":e("67"),__esModule:!0},r.exports}),e.register("5f",["50","b","c"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]}],execute:function(){"use strict";i={},o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0];n(this,e),this.properties=t}return r(e,null,[{key:"defaults",set:function(e){i=e}}]),r(e,[{key:"clone",value:function(){var r=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n;return t(this.properties).forEach(function(e){e in n||(i[e]=r.properties[e])}),new e(i)}},{key:"get",value:function(e){return this.properties[e]}},{key:"set",value:function(e,t){this.properties[e]=t}},{key:"getProperties",value:function(){return this.properties}}]),e}(),e("Settings",o)}}}),e.register("68",["12","62","b","c","5f"],function(e){var t,r,n,i,o,s;return{setters:[function(e){t=e.User},function(e){r=e.Search},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.Settings}],execute:function(){"use strict";s=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(i(this,e),!("host"in n))throw new Error("A MindTouch host (e.g. https://example.mindtouch.us) is required to initialize the GeniusLink SDK connection.");if(!("token"in n))throw new Error("A browser developer token must be supplied to initialize the GeniusLink SDK connection.");if("string"!=typeof n.token)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");var s=n.host,u=s.match(/^http(s?):/),a=u&&Array.isArray(u)?u[0]:window.location.protocol;if(u||(s=a+"//"+s),"http:"===a&&"https:"===window.location.protocol)throw new Error("An insecure GeniusLink SDK connection (http) cannot be made from a secure web page (https).");var c=n.token.trim();if(""===c)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");this.settings=new o({host:s,token:c}),this.userLib=new t(this.settings),this.searchLib=new r(this.settings)}return n(e,[{key:"configuration",get:function(){return this.settings.getProperties()}},{key:"search",get:function(){return this.searchLib.search.bind(this.searchLib)}},{key:"User",get:function(){return this.userLib}}]),e}(),e("GeniusLink",s)}}}),e.register("1",["68"],function(e){"use strict";var t;return{setters:[function(e){t=e.GeniusLink}],execute:function(){window.GeniusLink=t||{}}}})})(function(e){e()});
//# sourceMappingURL=geniuslink.min.js.map
